import{_ as V,u as b,r as m,i as k,c as h,b as o,w as r,d as a,j as z,e as B,a as C,k as E,l as c,m as F,n as L,p as N,f as R,E as f}from"./index-TwG3oDm_.js";const S={class:"login-container"},U={__name:"Login",setup(q){const _=z(),g=b(),i=m(null),l=m(!1),s=k({username:"",password:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},t=async()=>{try{await i.value.validate(),l.value=!0,await g.login(s.username,s.password),f.success("登录成功"),_.push("/")}catch(d){d.response&&f.error("用户名或密码错误")}finally{l.value=!1}};return(d,e)=>{const p=a("el-input"),n=a("el-form-item"),v=a("el-button"),y=a("el-form"),x=a("el-card");return B(),h("div",S,[o(x,{class:"login-card"},{default:r(()=>[e[3]||(e[3]=C("h2",null,"项目管理系统",-1)),o(y,{ref_key:"loginFormRef",ref:i,model:s,rules:w,onSubmit:E(t,["prevent"])},{default:r(()=>[o(n,{prop:"username"},{default:r(()=>[o(p,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),placeholder:"用户名",size:"large","prefix-icon":c(F)},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,{prop:"password"},{default:r(()=>[o(p,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),type:"password",placeholder:"密码",size:"large","prefix-icon":c(N),onKeyup:L(t,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,null,{default:r(()=>[o(v,{type:"primary",size:"large",loading:l.value,style:{width:"100%"},onClick:t},{default:r(()=>[...e[2]||(e[2]=[R(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},M=V(U,[["__scopeId","data-v-9130cae9"]]);export{M as default};
